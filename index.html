<!-- Updated HTML/JS with 5-use limit to redirect to Telegram --><!doctype html>

<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title> — please wait</title>
<meta name="robots" content="noindex">
<style>
/* (your original CSS stays unchanged) */
</style>
</head>
<body>
<div class="overlay"></div>
<div class="card" role="main" aria-live="polite">
  <h1>Please wait — assigning an available WhatsApp agent</h1>
  <p class="small">This helps distribute chats fairly. Do not close this page.</p>
  <div class="count" id="count">6</div>
  <div class="progress" aria-hidden="true"><div id="bar" class="bar"></div></div>
  <p id="status" class="small">You will be redirected when the timer ends.</p>
  <button id="manual" disabled>Redirect now (disabled)</button>
  <button id="telegram">Contact on Telegram</button>
  <p class="small" style="margin-top:10px">If auto-redirect fails, please check your network or try again later.</p>
</div><script>
/* -------------------- ENCRYPTED NUMBER DATA (unchanged) -------------------- */
/* -------------------- ENCRYPTED NUMBER DATA (complete) -------------------- */
const ENCRYPTED = [
"TohNMRvIUG6QrhZmd7l1BCL5Y1agnCJS",
"QekYhafYWP33S/tFeNggvJ/ubc/CeMN8",
"ZxFStYBPVnnRWPoCXiBrjbl2Z03paco3",
"2JV0zQW51eE0eKV/4aRN/DKB4dgDSZZI",
"LlpcYuSTzSHe6t7HF2trUNCr9Rbn2Orz",
"Untg/6/vrxXcvNcla0pYxpfZmifpj+8c",
"tvDYUNGL8D6Z8f+uj8HvY+Wywg6uwMeZ",
"d7Vmw8GaKwfGpAhjToRf+vajEjTxkztT",
"obhnWPPVE1xAUR5qmIlRa8vnI214Yipc",
"PdR3Ib2fxb1krkcABOVAE4mn/YpdnHM0",
"krIoLNqo5+nUHBJ+q4MfH+6R1dnjLSpJ",
"6JTK8YXPeNo6vUG40aXywLL3SOkNj3SJ",
"s2xwoBMTpy/0akfxil1JkSEglhrFX3bB",
"u+ArUd7i3mbtiwQNgtESaO3T61TbujU5",
"J0MtvWRj++j5Dmu4HnIUilxTzNrLPV+O",
"XdTNgj6zCpo8UiQJZOX1swmLOqkLYBE4",
"bM9TymOhaVpwcdpOVf5r8lKTUWpGSO5/",
"OfM9YM7Inv2q5b4YAMIFVff5rcWa14os",
"/BxYXHvNM14gBpATxS1hbUL+B2wQMKUj",
"UQllsol93M1i6IkraDhTgL9E6fRU3r4T",
"VOFlFq+4WS3zOuOhbdBSJZqAaR7KA9eZ",
"B6YGP2MYiH5nBtxnPpc+C1UruEhUMepe",
"k+NGQudBY8ztxJQ1qtJ/cNd5UPje/aMG",
"UhKTRW4/XI8CKLA6ayOkfVcMaLs2H4ED",
"f+KuERYgdgQy1TmXRtOYKCYRTjMF5gCu",
"jTdLaZUAKeoeLXDJtAZyXKYxGd4oH0j6",
"ANUuvQc5K7QtximhOeQZij4OGIca9RCZ",
"Y7mcuNBel/cY2ifBWoiri+dup8Uo4hf1",
"bLMCB6etmkrVqvl9VYI1Ppebq3vnnsxO",
"E5Rhasm/HSDtpoIwKqVYXfmHKxXalLIH",
"acrh5zu/yM89HlUwUPvY0AqK+/wOL2UF",
"sS9Vu6eEwslR4JzpiB5jiJC18f1j0qrd",
"kyoHCsI7HzKIcrNmqhs+P/sKJwK6R4tW",
"x/JIez4M3lT32Fpd/sN/Qwc+6WfO62ll",
"OKprdIPy6gGwO6TXAZtSQbDD2jWGCZzk"
];

function b64ToBytes(b64) {
  let bin = atob(b64);
  let arr = [];
  for (let i = 0; i < bin.length; i++) arr.push(bin.charCodeAt(i));
  return new Uint8Array(arr);
}

function decrypt(blob) {
  let raw = b64ToBytes(blob);
  let half = Math.floor(raw.length / 2);
  let ks = raw.slice(0, half);
  let ct = raw.slice(half);
  let out = [];
  for (let i = 0; i < ct.length; i++) out.push(ct[i] ^ ks[i]);
  return new TextDecoder().decode(new Uint8Array(out));
}

/* -------------------- LIMIT LOGIC: max 5 redirects -------------------- */
const MAX_USES = 5;
let used = parseInt(localStorage.getItem("used_redirects") || "0", 10);

(function(){
  const rawNums = ENCRYPTED.map(e => decrypt(e));
  const numbers = rawNums.map(n => n.replace(/\D+/g, ''));

  let TOTAL = 6;
  let remaining = 6;

  const countEl = document.getElementById("count");
  const barEl = document.getElementById("bar");
  const manualBtn = document.getElementById("manual");
  const telegramBtn = document.getElementById("telegram");

  telegramBtn.onclick = () => window.open("https://t.me/Easytaskearnig", "_blank");

  function update(){
    countEl.textContent = remaining;
    barEl.style.width = ((TOTAL - remaining) / TOTAL * 100) + "%";
  }

  function redirect(){
    used++;
    localStorage.setItem("used_redirects", used);

    if(used > MAX_USES){
      window.location.replace("https://t.me/Easytaskearnig");
      return;
    }

    let pick = numbers[Math.floor(Math.random() * numbers.length)];
    window.location.replace("https://wa.me/" + pick);
  }

  manualBtn.onclick = () => {
    remaining = 0;
    update();
    redirect();
  };

  update();

  let timer = setInterval(() => {
    remaining--;
    update();

    if(remaining <= 0){
      clearInterval(timer);
      redirect();
    }

    if(remaining <= 5) manualBtn.disabled = false;
  }, 1000);
})();
</script></body>
</html>
